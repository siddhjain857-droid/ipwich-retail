{% extends "base.html" %}
{% block content %}
<h1>Checkout</h1>

<form method="post">
  {% csrf_token %}

  <!-- Shipping / Contact Form -->
  {{ form.as_p }}

  <h3>Order Summary</h3>
  <ul class="list-group mb-3">
    {% for line in items %}
      <li class="list-group-item d-flex justify-content-between">
        <div>{{ line.product.name }} × {{ line.qty }}</div>
        <span>£ {{ line.line_total|floatformat:2 }}</span>
      </li>
    {% empty %}
      <li class="list-group-item">Your cart is empty.</li>
    {% endfor %}
    <li class="list-group-item d-flex justify-content-between">
      <strong>Total</strong>
      <strong>£ {{ total|floatformat:2 }}</strong>
    </li>
  </ul>

  <button type="submit" class="btn btn-primary">Place Order</button>
  <a href="{% url 'cart' %}" class="btn btn-link">Back to cart</a>
</form>
{% endblock %}